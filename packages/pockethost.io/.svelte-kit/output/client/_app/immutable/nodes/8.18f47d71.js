import{s as L,a as A,f as v,D as $,d as _,c as D,g,h as H,A as I,j as m,i as x,x as b,C as P,z as k}from"../chunks/scheduler.f7157b54.js";import{S as V,i as j,t as y,c as M,a as C,g as S,b as T,d as Y,m as q,e as z}from"../chunks/index.0c0c8d6a.js";import{p as B}from"../chunks/stores.7cf961d7.js";import{g as F,b as G}from"../chunks/AlertBar.d1fe7d26.js";function J(l){let t,n='<span class="visually-hidden">Loading...</span>';return{c(){t=v("div"),t.innerHTML=n,this.h()},l(e){t=g(e,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),I(t)!=="svelte-1cgfukx"&&(t.innerHTML=n),this.h()},h(){m(t,"class","spinner-border mx-auto"),m(t,"role","status")},m(e,s){x(e,t,s)},p:k,i:k,o:k,d(e){e&&_(t)}}}function K(l){let t,n;return t=new G({props:{icon:"bi bi-exclamation-triangle-fill",text:l[0]}}),{c(){T(t.$$.fragment)},l(e){Y(t.$$.fragment,e)},m(e,s){q(t,e,s),n=!0},p(e,s){const c={};s&1&&(c.text=e[0]),t.$set(c)},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){y(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}function N(l){let t,n,e,s,c="Confirming Your Account",f,a,o,p;const w=[K,J],i=[];function E(r,u){return r[0]?0:1}return a=E(l),o=i[a]=w[a](l),{c(){t=A(),n=v("div"),e=v("div"),s=v("h2"),s.textContent=c,f=A(),o.c(),this.h()},l(r){$("svelte-1vfovme",document.head).forEach(_),t=D(r),n=g(r,"DIV",{class:!0});var d=H(n);e=g(d,"DIV",{class:!0});var h=H(e);s=g(h,"H2",{class:!0,"data-svelte-h":!0}),I(s)!=="svelte-7s58jf"&&(s.textContent=c),f=D(h),o.l(h),h.forEach(_),d.forEach(_),this.h()},h(){document.title="Confirming Your Account - PocketHost",m(s,"class","mb-4"),m(e,"class","card text-center svelte-1xtwgc3"),m(n,"class","page-bg svelte-1xtwgc3")},m(r,u){x(r,t,u),x(r,n,u),b(n,e),b(e,s),b(e,f),i[a].m(e,null),p=!0},p(r,[u]){let d=a;a=E(r),a===d?i[a].p(r,u):(S(),y(i[d],1,1,()=>{i[d]=null}),M(),o=i[a],o?o.p(r,u):(o=i[a]=w[a](r),o.c()),C(o,1),o.m(e,null))},i(r){p||(C(o),p=!0)},o(r){y(o),p=!1},d(r){r&&(_(t),_(n)),i[a].d()}}}function O(l,t,n){let e;P(l,B,a=>n(2,e=a));let s="",c="";const f=async()=>{if(!s)throw new Error("Expected valid token here");await F(s,a=>{n(0,c=a)})};return l.$$.update=()=>{var a,o;l.$$.dirty&6&&(n(1,s=(o=(a=e==null?void 0:e.url)==null?void 0:a.searchParams)==null?void 0:o.get("token")),s?f():n(0,c="Invalid link"))},[c,s,e]}class X extends V{constructor(t){super(),j(this,t,O,N,L,{})}}export{X as component};
